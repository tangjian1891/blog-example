<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <p>
        data:image/jpeg;base64,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
      </p>
      <button onclick="base642file()">转为图片(file/blob)</button>
      <button>转为text</button>
      <button>转为arraybuffer</button>
    </div>
    <hr />
    <div>
      <p>[137, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 0, 207, 0, 0, 0, 51, 8, 6,....]</p>
      <button>转为图片(file/blob)</button>
      <button>转为text</button>
      <button>转为base64</button>
    </div>
    <hr />
    <div>
      <!-- <p>�PNG0��N�����;�q�V�M;��4���ɫ_G��#�0�8�l{�ux���Ɲ\>��B{3�i�˺�7nqۮ�v����5�F�h�xy⚟�Lj���C�O�����N幞�</p> -->
      <p>普通字符集</p>
      <button onclick="text2blob()">转为图片(file/blob)</button>
      <button>转为text</button>
      <button>转为base64</button>
    </div>
    <input type="file" onchange="change(this)" />
    <script>
      let a;
      function change(e) {
        const file = e.files[0];
        console.log(file);
        toDataURL(file);

        toArrayBuffer(file);
        toText(file);
      }

      function toDataURL(file) {
        const fr = new FileReader();
        fr.readAsDataURL(file);
        fr.onload = function (e) {
          let data = e.target.result;
          console.log(data);
        };
        // 字节对应的十六进制形式
        // data:image/jpeg;base64,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
      }

      function toArrayBuffer(file) {
        const fr = new FileReader();
        fr.readAsArrayBuffer(file);
        fr.onload = function (e) {
          let data = e.target.result;
          console.log(data);
        };
      }

      function toText(file) {
        const fr = new FileReader();
        fr.readAsText(file);
        fr.onload = function (e) {
          let data = e.target.result;
          console.log(data); //text就是字符流传输
          let a = data;
        };
      }

      function base642file() {
        let base64 =
          "data:image/jpeg;base64,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";
        // 抽取实际数据部分
        base64 =
          "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";
        // base64你也可以理解为64进制，64进制需要转换为二进制
        text = window.atob(base64); //解码为字符集text
        // btoa 编码:将text字符集找到对应的码点，根据码点数转为64进制。
        // atob 解码:将64进制转为对应的码点，然后码点对应text字符集
        // 字符集转blob
        console.log(text);
        const encode = new TextEncoder();
        const arraybuffer = encode.encode(text);
        console.log(arraybuffer);
        // 还有一种写法.
        let unit8 = [];
        let index = 0;
        let len = base64.length;
        while (index < len) {
          unit8.push(base64[index].charCodeAt());
          index++;
        }
        console.log(unit8);
      }

      function text2blob() {
        let text = "abc你好"; //btoa编码时，如果码点超过0x00 ~ 0xFF这个范围，就会InvalidCharacterError 报错
        console.log("base64"); //使用类化数组转换，就是arraybuffer
        let len = text.length;
        let index = 0;
        let unit8 = [];
        while (index < len) {
          unit8.push(text[index].charCodeAt());
          index++;
        }
        const encode = new TextEncoder(); //UTF-8编码格式 字节流作为输出
        let unit8array = encode.encode(text); //返回一个包含文本的Uint8Array，文本使用UTF-8编码
        console.log(unit8array);
        console.log(unit8);
        // 只有textencode以编码的方式拆为utf-8
        // 然后可以用base64加密一下
        let arr = Array.from(unit8array);
        let base64 = window.btoa(arr); //      OTcsOTgsOTksMjI4LDE4OSwxNjAsMjI5LDE2NSwxODk=
        console.log(base64);
        // 反向将 base64解码为单个字符
        let text2 = window.atob(base64);
        console.log(text2); //字符对应的码点，10进制
        // 单个字符的范围就是0x00 ~ 0xFF之间，刚好符合unit8
        // 将字符的码点组合为数组,所有包含的字符都是在255的码点范围内
        let arr10 = text2.split(",");
        arr10 = arr10.map(Number);
        let u8 = new Uint8Array(arr10);
        console.log(u8);
      }
    </script>
  </body>
</html>
